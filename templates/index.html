{% extends "template.html" %}
{% block content %}
<!-- Form ================================================== -->
<div class="form">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <p class="lead">
          {% if name %}
            Hello {{ name }} san
          {% else %}
            {{ message }}
          {% endif %}
        </p>
        <form action="/post" method="post" class="form-inline">
          <label for="name">Name</label>
          <input type="text" class="form-control" id="name" name="name" placeholder="Name">
          <button type="submit" class="btn btn-default">Submit</button>
        </form>
      </div>
    </div>
  </div>
</div>
<h2>Users Table</h2>
<div id="user-table"></div>
<hr>
<h2>Spec Table</h2>
<button id="#add-spec" class="button button-primary">Add</button>
<div id="spec-table"></div>
<script>
  //define some sample data
  var usersdata = {{users|tojson}};
  var specdata  = {{specs|tojson}};
  var usertable = new Tabulator("#user-table", {
    height:400,
    data:userdata, 
    layout:"fitColumns", 
    columns:[ //Define Table Columns
      {title:"ID", field:"id", width:100},
      {title:"Name", field:"name", editor:"input", width:150},
    ],
  },
  var usertable = new Tabulator("#spec-table", {
    height:400,
    data:specdata, 
    layout:"fitColumns", 
    columns:[ 
      {title:"ID", field:"guid", width:100},
      {title:"Name", field:"name", editor:"input", width:200},
      {title:"Definition", field:"definition", editor:"textarea"},
      {title:"Updated", field:"updated"},
     ],
    },
  });
</script>
{% endblock %}
